import urllib3
from nuclia import sdk
urllib3.disable_warnings()

cloud_url = "https://aws-us-east-2-1.nuclia.cloud/api/v1/kb/6fd0e260-56f2-4269-ae4a-f944bc8df706"
# writer key
my_api_key = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6InNhIn0.eyJpc3MiOiJodHRwczovL2F3cy11cy1lYXN0LTItMS5udWNsaWEuY2xvdWQvIiwiaWF0IjoxNzExNDE2NTk2LCJzdWIiOiJmMWQ2MTM1NC01MDJjLTQwMzItODFjYy02MzE5OTBiZjQwYmUiLCJqdGkiOiI5ZmY0OWQ3NS00YTI4LTQ1ZWUtODY1NS1hY2RjM2VlNmNiMTkiLCJleHAiOjE3NDI5NTI1OTYsImtleSI6ImM5NmE2YWRlLWY4OWEtNDFlOS1iMDMzLTBmM2ZlYTE0MGM0ZiIsImtpZCI6IjgxMWRmMDhkLThjMTctNDgyOS1hZTA1LTc3NzVjNWViNWMwOSJ9.CkEoKCXjJi54xAaoKPWsQgwVxnYFqhSCMN2YPBewomv2l4PD2XpH9OB1BPe-m2muymTCBNdvvculNdzarVpUnOaE2zprvOdYofSWWv29-12KHNdt1N1dJvBcl7cFumZKvrx3Qkbl2l37-cGFzkwVKMkHjM1yoTjnW4FCVt0wreHL3cjZcI-bhRIawTFkqh9k-L3BheSB-_im0uiMllJeUMIfGf4JHRE69MaYFenDteGIIFXKG_L_w50rnk8_rySSU305dESi7WY9EQS0Sm-_bA1ezpq41NBVk1I9qEFvgWL0ARZFMGXSYVC6532i1zircr0SA-DrcyXAXsmO2Qffm_mGaU1_2-NJLTIEImN4jwRu_swzeOKin3jocW5npeHyBIWEyqJkqBjnqZjsACG84fvHCUyfvAkhVr5HxBYOvR1EdBgEHpXuGs-o2pm8rdP_BPvkdd1pkOY8zXdJp_U1MifvVxpGPhXQT5E2dyao-OWaMX_pnRsvAiRMIpjuHQHw6cF_V4hssVsAQqJKRBlB4OW6pe_elwSXd5aNn2oYl7DmeTS4TpTCAtFRQ1mAZbFhUeFb9kKqVPtDzbR0C8hucclS_d6WX8PJJQ2Khm45dPm0j1DRaehlThs4dPAXUMPQQx0P55wuDaQUbRK4yGxzpN2woSplUP7Sbd0PpX7dXnY"
# manager key
#my_api_key = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6InNhIn0.eyJpc3MiOiJodHRwczovL2F3cy11cy1lYXN0LTItMS5udWNsaWEuY2xvdWQvIiwiaWF0IjoxNzExNDE4MjY3LCJzdWIiOiJlYmQ5ZmE5My1lYzMzLTQxZjQtOTU4Zi1mM2ViYWFiM2NjODQiLCJqdGkiOiJhZDg0ZmVmMy03OTY1LTRjYzItYjFhOS1iODVmYTMyOTQxODgiLCJleHAiOjE3NDI5NTQyNjcsImtleSI6ImIwOGM4OTZiLWE5YmEtNGRmOC1hNDE0LTc1OTVhMDE0ODA3MiIsImtpZCI6IjBhNDkwM2E5LTk2MjctNGE2NC1iMTQ4LTE4MjIwZDFhOWZhNCJ9.c2VFkk6z4xtgcJV77FMIvXCcWWCRj5nGWi0mvtLwFAV2vHAF8RcAaAaG7rMrEVMafLeTpe-TN_PF3mZ4fXI0op1UinzXQJJ41A-d2ZrnUjbVZMF3O3eSiVlozU6TyarQRNMJzxFodfKBOEkh6fAuDGApB6GjLE6dtV-eTl05zAsIaaJJ8QxSpt8W8VRI2XXUVZpanZnqMWUL5cxyx4WMqdijJK3EarsEPnDmqw7voDON8idmCCBkf3DSWyT5czNdRYg8360zdClwbsLCv6psnYcsBw6LYy3a5EuD3gj2tST9jjU74AjYFj6rFXdj7Gz4mXNb4xQ_X4cN6HmPfYO_U0B7SoVeaViCFVXQXZ_a31MSJGTwrgpfaYZ3reTXtOLEQ1rpSFzkyAuVea6_Hek8URQC1dGIUgnuYaFai6U5GC0vEm-3DZ9vBvRkJkz-FoP1WVmoFUX39CyoeAaHyzGWUVyZstOy8tKJK3phH8vhI_0jAgOy8oewLDmUTXOAo1jwDriqHM8t2rMZFFVVa_X43BBfMB22IeugQMoB5A0S5RKjsJgBaoXd_tZdzyubGZ8fTpF6nAzSVyTk8F4HZ8-kudhBXgUJZJYl2KVMjcMvw7A3MkobFEgXJ_XgdegPgU2cCZP_Bx_ZNdxrkozBPThhicFgVnrbDM3hpCX53FiIrzo"
sdk.NucliaAuth().kb(url=cloud_url, token=my_api_key)

# init SDK
kb = sdk.NucliaKB()

# Initialize the upload and summarize modules
upload = sdk.NucliaUpload()

# List of URLs
urls = ['https://en.wikipedia.org/wiki/Vector_database', 'https://en.wikipedia.org/wiki/Artificial_intelligence', 'https://en.wikipedia.org/wiki/Prompt_engineering#Retrieval-augmented_generation']
        
#'URL2', 'URL3', 'URL4', 'URL5', 'URL6', 'URL7', 'URL8', 'URL9', 'URL10']

#this is the summarize service, but it is not working so it is commented out
#kb.summarize(resources=urls)

# Loop through the list of URLs

for url in urls:
    # Upload the URL
    resource_id = upload.link(uri=url)

